<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <title>DropIn - Loading...</title>
    <!-- Link to DropIn specific styles -->
    <link rel="stylesheet" href="dropin_styles.css" />
    <!-- Favicon (Use DropApps logo) -->
    <link rel="icon" href="icons/dropin_favicon.png" type="image/png">
    <!-- Font Awesome for Icons (Example) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div class="dropin-container">
        <!-- 1. Header -->
        <header class="dropin-header">
            <div class="logo">DropIn</div>
            <!-- Optional elements: Room ID display? Back link? -->
            <!-- <span id="room-id-display" class="room-id"></span> -->
        </header>

        <!-- 2. Main Meeting Area -->
        <main class="meeting-area">
            <!-- Grid container for all video streams -->
            <div id="video-grid" class="video-grid">
                <!-- Video elements will be added here dynamically by JS -->
            </div>

            <!-- Initial State Overlay (Permissions/Loading/Ended) -->
            <div id="initial-overlay" class="initial-overlay">
                 <!-- Order matters for display logic in updateStatusMessage -->
                <div id="loading-indicator" class="loading-indicator">Connecting...</div>
                <div id="permission-prompt" class="permission-prompt" style="display: none;">
                    <p>DropIn needs access to your microphone and camera.</p>
                    <button id="grant-permission-btn">Grant Access</button>
                    <p class="error-message" id="permission-error" style="display: none;"></p>
                </div>
                 <div id="ended-message" class="loading-indicator" style="display: none;">Meeting Ended.</div>
            </div>
        </main>

        <!-- 3. Control Bar -->
        <footer class="control-bar">
            <button id="mic-btn" class="control-button" title="Mute/Unmute Microphone" disabled> <!-- Start disabled -->
                <i class="fas fa-microphone"></i>
            </button>
            <button id="cam-btn" class="control-button" title="Turn Camera On/Off" disabled> <!-- Start disabled -->
                <i class="fas fa-video"></i>
            </button>
            <button id="leave-btn" class="control-button leave" title="Leave Meeting" disabled> <!-- Start disabled -->
                <i class="fas fa-phone-slash"></i>
            </button>
        </footer>
    </div>

   <!-- Socket.IO Client Library -->
    <script src="https://cdn.socket.io/4.7.4/socket.io.min.js" crossorigin="anonymous"></script>
    <!-- Custom DropIn Frontend Script -->
    <script src="dropin_frontend.js"></script> <!-- Ensure this path is correct -->

</body>
</html>